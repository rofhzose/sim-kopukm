# ==========================================
# ğŸ§± Gunakan Node versi stabil
# ==========================================
FROM node:20

# ==========================================
# ğŸ“‚ Set working directory di container
# ==========================================
WORKDIR /app

# ==========================================
# ğŸ“¦ Copy file package.json dan package-lock.json
# ==========================================
COPY package*.json ./

# ==========================================
# âš™ï¸ Install dependencies
# ==========================================
RUN npm install --production

# ==========================================
# ğŸ“ Copy seluruh source code backend
# ==========================================
COPY . .

# ==========================================
# ğŸŒ Expose port API
# ==========================================
EXPOSE 4849

# ==========================================
# ğŸš€ Jalankan app
# ==========================================
CMD ["npm", "run", "dev"]
